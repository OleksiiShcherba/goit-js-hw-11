{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const pixabayApi = (search_word, render_function) => {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const request_params = new URLSearchParams({\n    key: '42955810-525eb75005697c7b81a0edb8d',\n    q: search_word,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(BASE_URL + '?' + request_params.toString())\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(data => {\n      render_function(data);\n    })\n    .catch(error => {\n      console.log('Error:  ', error);\n    });\n};\n\nexport default pixabayApi;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst images_element = document.querySelector('.images');\nconst lightbox = new SimpleLightbox('.images li a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nexport const loadStart = () => {\n  images_element.innerHTML = '<span class=\"loader\"></span>';\n};\n\nexport const renderImages = data => {\n  images_element.innerHTML = '';\n\n  if (data.hits.length === 0) {\n    iziToast.error({\n      message: `Sorry, there are no images matching your search query. Please, try again!`,\n      position: 'topRight',\n    });\n  } else {\n    const image_elements = data.hits\n      .map(hit => {\n        return `<li class=\"image\">\n          <a href=\"${hit.largeImageURL}\"><img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\"></a>\n          <ul class=\"info\">\n            <li class=\"info-block\">\n              <p3>Likes</p3>\n              <span>${hit.likes}</span>\n            </li>\n            <li class=\"info-block\">\n              <p3>Views</p3>\n              <span>${hit.views}</span>\n            </li>\n            <li class=\"info-block\">\n              <p3>Comments</p3>\n              <span>${hit.comments}</span>\n            </li>\n            <li class=\"info-block\">\n              <p3>Downloads</p3>\n              <span>${hit.downloads}</span>\n            </li>\n          </ul>\n        </li>`;\n      })\n      .join('');\n\n    images_element.innerHTML = image_elements;\n    lightbox.refresh();\n  }\n};\n","import pixabayApi from './js/pixabay-api.js';\nimport { renderImages, loadStart } from './js/render-functions.js';\n\nconst search_element = document.querySelector('#search-image');\nconst search_button = document.querySelector('#search-button');\n\nsearch_button.addEventListener('click', () => {\n  if (search_element.value.trim().length != 0) {\n    loadStart();\n    pixabayApi(search_element.value.trim(), renderImages);\n  }\n});\n"],"names":["pixabayApi","search_word","render_function","BASE_URL","request_params","response","data","error","images_element","lightbox","SimpleLightbox","loadStart","renderImages","iziToast","image_elements","hit","search_element","search_button"],"mappings":"6vBAAA,MAAMA,EAAa,CAACC,EAAaC,IAAoB,CACnD,MAAMC,EAAW,2BACXC,EAAiB,IAAI,gBAAgB,CACzC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAME,EAAW,IAAMC,EAAe,SAAQ,CAAE,EAC7C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZJ,EAAgBI,CAAI,CAC1B,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAI,WAAYA,CAAK,CACnC,CAAK,CACL,EClBMC,EAAiB,SAAS,cAAc,SAAS,EACjDC,EAAW,IAAIC,EAAe,eAAgB,CAClD,aAAc,IACd,aAAc,KAChB,CAAC,EAEYC,EAAY,IAAM,CAC7BH,EAAe,UAAY,8BAC7B,EAEaI,EAAeN,GAAQ,CAGlC,GAFAE,EAAe,UAAY,GAEvBF,EAAK,KAAK,SAAW,EACvBO,EAAS,MAAM,CACb,QAAS,4EACT,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAAiBR,EAAK,KACzB,IAAIS,GACI;AAAA,qBACMA,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,sBAIjEA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,sBAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,sBAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,sBAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,cAI5B,EACA,KAAK,EAAE,EAEVP,EAAe,UAAYM,EAC3BL,EAAS,QAAO,CACjB,CACH,ECnDMO,EAAiB,SAAS,cAAc,eAAe,EACvDC,EAAgB,SAAS,cAAc,gBAAgB,EAE7DA,EAAc,iBAAiB,QAAS,IAAM,CACxCD,EAAe,MAAM,KAAI,EAAG,QAAU,IACxCL,IACAX,EAAWgB,EAAe,MAAM,KAAM,EAAEJ,CAAY,EAExD,CAAC"}